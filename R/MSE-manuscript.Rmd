---
title: 'No Replication Without Process Documentation:  An Assessment of Management
  Strategy Evaluations'
author:
- affiliation: School for Marine Science and Technology, University of Massachusetts
    - Dartmouth
  name: Jonathan W. Cummings, Amanda Hart, Gavin Fay
output:
  bookdown::word_document2:
  bookdown::html_document2:
    number_sections: false
  bookdown::pdf_document2:
    number_sections: false
always_allow_html: yes
biblio-style: apalike
endnote: no
fontfamily: mathpazo
fontsize: 11pt
geometry: margin=1in
header-includes: \usepackage{hyperref}
keywords: pandoc, r markdown, knitr
bibliography: MSEreview.bib
abstract: The aim and vision for fisheries management that comes from management strategy evaluation and adaptive management is a noble and aspirational vision.  We review MSE documentation in the published literature to appraise the achievement of this vision, finding that reality doesn't fully reflect this vision. The steps taken to complete the management strategy evaluation process often are not documented. Scientists often filled the role of fishery stakeholders, seemingly selecting the objectives and alternatives to evaluate in most management strategy evaluations. Facilitators and decision analysts -- participants focused on the decision making process rather than making the decision -- were rarely participants in MSE processes.  Conservation, Economic, and Yield focused objectives were commonly considered in MSE processes, while broader social objectives were rarely considered.  The picture painted by MSE documentation is primarily one of scientist driven simulation studies rather than management driven decision processes, with limited process documentation occurring. We hope providing a repository for reviews of previous management strategy evaluations will aid and speed learning among practitioners of management strategy evaluation.
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(cache=TRUE,
                      message=FALSE, warning=FALSE,
                      fig.path='figs/',
                      cache.path = '_cache/',
                      fig.process = function(x) {
                      x2 = sub('-\\d+([.][a-z]+)$', '\\1', x)
                      if (file.rename(x, x2)) x2 else x
                      })
```

```{r load data, include=FALSE}
options(knitr.table.format = "html")
##### load libraries #####
library(tidyverse) # upgrade to base R
library(readxl) # read in excel files
library(shiny) # Shiny App
library(shinythemes) # web themes for Shiny
library(DT) # Data Table
library(purrr) # for loop alternative
library(ggmap) # map plotting
library(mapdata) # basemap generation
library(odbc) # database connection 
library(RMySQL) # MySQL scripting in R
library(DBI) # database interface
library(kableExtra) # extra formating of the tables
library(here) # file directory assistance

load(here("data/MSEreview.RData"))

study<-study %>% 
  unite(Citation,c(Authors,YearPub),sep=" ",remove=F)

mgmt.join<-mgmt %>% 
  group_by(fkStudyID) %>%
  summarise(ManagementType = toString(sort(unique(MPManagementTool))),
            AlternativesEvaluated = toString(sort(unique(MPAlternativesEvaluated))))

obj.join<-obj %>%
  group_by(fkStudyID) %>%
  summarise(ObjectiveCategories = toString(sort(unique(ObjCategory))))

# Join tables
data<-full_join(study,mgmt.join,by=c("ID"="fkStudyID"))
data<-full_join(data,obj.join,by=c("ID"="fkStudyID"))

# Move comment column to the end
data<-data %>%
  select(-'Comments', 'Comments')
```

```{r filter data, include=FALSE}

# Filter data by study type
data_pub<-filter(data,RandomSample==TRUE)
data_CC<-filter(data,str_detect(Drivers,"Climate Change")&UseInPublication==TRUE)

data_pub.join<-data_pub %>%
  select(ID,Citation)
data_CC.join<-data_CC %>%
  select(ID,Citation)

obj.data_pub<-left_join(data_pub.join,obj,by=c("ID"="fkStudyID"))%>%
  select(-c("ID","ID.y"))
obj.data_CC<-left_join(data_CC.join,obj,by=c("ID"="fkStudyID"))%>%
  select(-c("ID","ID.y"))

alt.data_pub<-left_join(data_pub.join,mgmt.join,by=c("ID"="fkStudyID"))%>%
  select(-c("ID"))
alt.data_CC<-left_join(data_CC.join,mgmt.join,by=c("ID"="fkStudyID"))%>%
  select(-c("ID"))

data_pub<-data_pub %>%
  select(-c("ID"))
data_CC<-data_CC %>%
  select(-c("ID"))

# Get columns whose width needs editing
targets<-match(c("FullCitation","Comments"),names(data))

#####-- Filter Data by analysis --#####
# Get columns for study summary
summary.col<-c("Citation",
               "Species",
               "Location",
               "System")
# Get columns for study drivers and problem
prob.col<-c("Citation",
            "ProblemDefinition",
            "Drivers",
            "ConsequencePrediction",
            "TradeOffMethod_Exp",
            "TradeOffMethod_Sub",
            "Decision")
# Get columns for frequency analysis
freq.col<-c("ProcessExplicit",
            "ProblemDefinitionExplicit",
            "ObjectivesExplicit",
            "AlternativesExplicit",
            "TradeOffsExplicit",
            "DecisionExplicit",
            "ResultsAdopted")
freq2.col<-c("RoleSpecification",
             "OpenMeetings")
# Get columns for participant analysis
part.col<-c("Leader",
            "Participants",
            "ObjElicitationSource_Exp",
            "ProcedureElicitation_Exp",
            "ObjElicitationSource_Sub",
            "ProcedureElicitation_Sub")
obj.col<-c("ObjType",
           "ObjCategory",
           "ObjDirection",
           "ObjScale")
alt.col<-c("ManagementType",
           "AlternativesEvaluated")
# Get columns for map
map.col<-c("Latitude",
           "Longitude",
           "Citation",
           "Drivers")

# Select data summary columns
summary.data_pub<-data_pub %>%
    select(all_of(summary.col))
summary.data_CC<-data_CC %>%
  select(all_of(summary.col))
```

```{r analyze data, include=FALSE}
options(knitr.table.format = "html")
knitr::opts_chunk$set(echo = FALSE,
                      warning = FALSE,
                      tidy = FALSE,
                      message = FALSE,
                      fig.align = 'center',
                      out.width = "100%")

# Frequency of method
n_mse<-nrow(data)
n_pub<-nrow(data_pub)
n_obj_pub<-nrow(obj.data_pub)
n_CC<-nrow(data_CC)
n_obj_CC<-nrow(obj.data_CC)

freq.data_pub<-data_pub %>%
    select(all_of(freq.col)) %>%
    rename("Process"="ProcessExplicit",
           "Problem"="ProblemDefinitionExplicit",
           "Objectives"="ObjectivesExplicit",
           "Alternatives"="AlternativesExplicit",
           "Tradeoffs"="TradeOffsExplicit",
           "Decision"="DecisionExplicit",
           "Results Adopted"="ResultsAdopted") %>%
    summarise_all(sum)%>%
    gather(Explicit) %>%
    mutate(Percent=value/n_pub*100) %>%
    mutate(Explicit=factor(Explicit,levels=
                  c("Process","Problem","Objectives","Alternatives","Tradeoffs","Decision","Results Adopted"))) %>%
    rename("Number"="value")

freq.data_CC<-data_CC %>%
  select(all_of(freq.col)) %>%
  rename("Process"="ProcessExplicit",
         "Problem"="ProblemDefinitionExplicit",
         "Objectives"="ObjectivesExplicit",
         "Alternatives"="AlternativesExplicit",
         "Tradeoffs"="TradeOffsExplicit",
         "Decision"="DecisionExplicit",
         "Results Adopted"="ResultsAdopted") %>%
  summarise_all(sum)%>%
  gather(Explicit) %>%
  mutate(Percent=value/n_CC*100) %>%
  mutate(Explicit=factor(Explicit,levels=
                           c("Process","Problem","Objectives","Alternatives","Tradeoffs","Decision","Results Adopted"))) %>%
  rename("Number"="value")

freq2.data_pub<-data_pub %>%
    select(all_of(freq2.col)) %>%
    rename("Roles"="RoleSpecification",
           "Open Meetings"="OpenMeetings") %>%
    summarise_all(sum) %>%
    gather(Explicit) %>%
    mutate(Percent=value/n_pub*100) %>%
    mutate(Explicit=factor(Explicit,levels=
                  c("Roles","Open Meetings"))) %>%
    rename("Number"="value")

# Who participates
part.data_pub<-data_pub %>%
    select(all_of(part.col)) %>%
    rename("Process"="Leader",
           "Doc Objectives"="ObjElicitationSource_Exp",
           "Doc Alternatives"="ProcedureElicitation_Exp",
           "Sub Objectives"="ObjElicitationSource_Sub",
           "Sub Alternatives"="ProcedureElicitation_Sub")

part.data_pub<- part.data_pub %>%
    purrr::map(~ strsplit(as.character(.),split=", ")) %>%
    purrr::map(unlist) %>%
    purrr::map(table)


part.data_pub<-plyr::ldply(part.data_pub,data.frame)
colnames(part.data_pub)<-c("Stage","Participants","Number")

neworder <- c("Process","Participants","Doc Objectives",
              "Sub Objectives","Doc Alternatives",
              "Sub Alternatives")
newlabels <- c("Process","Participants","Explicit Objectives Process",
               "Subjective Objectives Process","Explicit Alternatives Process",
               "Subjective Alternatives Process")

part.data_pub <- part.data_pub %>%
    mutate(Percent=Number/n_pub*100) %>%
    mutate(Stage=factor(Stage,levels=neworder,labels=newlabels)) %>%
    ungroup() %>%
    # 2. Arrange by
    #   i.  facet group =Stage
    #   ii. bar height
    arrange(Stage, Percent) %>%
    # 3. Add order column of row numbers
    mutate(order = row_number())

part.data_CC<-data_CC %>%
  select(all_of(part.col)) %>%
  rename("Process"="Leader",
         "Doc Objectives"="ObjElicitationSource_Exp",
         "Doc Alternatives"="ProcedureElicitation_Exp",
         "Sub Objectives"="ObjElicitationSource_Sub",
         "Sub Alternatives"="ProcedureElicitation_Sub")

part.data_CC<- part.data_CC %>%
  purrr::map(~ strsplit(as.character(.),split=", ")) %>%
  purrr::map(unlist) %>%
  purrr::map(table)


part.data_CC<-plyr::ldply(part.data_CC,data.frame)
colnames(part.data_CC)<-c("Stage","Participants","Number")

part.data_CC <- part.data_CC %>%
  mutate(Percent=Number/n_CC*100) %>%
  mutate(Stage=factor(Stage,levels=neworder,labels=newlabels)) %>%
  ungroup() %>%
  # 2. Arrange by
  #   i.  facet group =Stage
  #   ii. bar height
  arrange(Stage, Percent) %>%
  # 3. Add order column of row numbers
  mutate(order = row_number())

part.dataTable_pub<-part.data_pub %>%
    as_tibble() %>%
    select(Stage,Participants,Number) %>%
    rename("Participant Group"="Participants") %>%
    spread(Stage,Number,fill=0)

part.dataTable_CC<-part.data_CC %>%
  as_tibble() %>%
  select(Stage,Participants,Number) %>%
  rename("Participant Group"="Participants") %>%
  spread(Stage,Number,fill=0)

# What drivers are considered
drive.data_pub<-data_pub %>%
    select(Drivers) %>%
    purrr::map(~ strsplit(as.character(.),split=", ")) %>%
    purrr::map(unlist) %>%
    purrr::map(table) %>%
    plyr::ldply(data.frame) %>%
    select(Var1,Freq) %>%
    rename("Driver"="Var1","Frequency"="Freq") %>%
    mutate(Percent=Frequency/n_pub*100) %>%
    arrange(desc(Frequency))

drive.data_CC<-data_CC %>%
  select(Drivers) %>%
  purrr::map(~ strsplit(as.character(.),split=", ")) %>%
  purrr::map(unlist) %>%
  purrr::map(table) %>%
  plyr::ldply(data.frame) %>%
  select(Var1,Freq) %>%
  rename("Driver"="Var1","Frequency"="Freq") %>%
  mutate(Percent=Frequency/n_CC*100) %>%
  arrange(desc(Frequency))

# What objectives categories were considered
objcat.data_pub<-data_pub %>%
    select(ObjectiveCategories) %>%
    purrr::map(~ strsplit(as.character(.),split=", ")) %>%
    purrr::map(unlist) %>%
    purrr::map(table) %>%
    plyr::ldply(data.frame) %>%
    select(Var1,Freq) %>%
    rename("Objective Category"="Var1","Frequency"="Freq") %>%
    mutate(Percent=Frequency/n_pub*100) %>%
    arrange(desc(Frequency))

objcat.data_CC<-data_CC %>%
  select(ObjectiveCategories) %>%
  purrr::map(~ strsplit(as.character(.),split=", ")) %>%
  purrr::map(unlist) %>%
  purrr::map(table) %>%
  plyr::ldply(data.frame) %>%
  select(Var1,Freq) %>%
  rename("Objective Category"="Var1","Frequency"="Freq") %>%
  mutate(Percent=Frequency/n_CC*100) %>%
  arrange(desc(Frequency))

# How were objectives defined
obj.data_pub<-obj.data_pub %>%
  select(all_of(obj.col)) %>%
  purrr::map(table) %>%
  plyr::ldply(data.frame)

obj.data_CC<-obj.data_CC %>%
  select(all_of(obj.col)) %>%
  purrr::map(table) %>%
  plyr::ldply(data.frame)

colnames(obj.data_pub)<-colnames(obj.data_CC)<-c("Objective","Type","Number")

neworder <- c("ObjCategory","ObjType","ObjDirection","ObjScale")
newlabels <- c("Category","Type","Direction","Scale")

# What Objective types are considered
obj.dataTable_pub <- obj.data_pub %>%
  mutate(Percent=round(Number/n_obj_pub*100,0)) %>%
  mutate('Per MSE'=round(Number/n_pub,2)) %>%
  mutate(Objective=factor(Objective,levels=neworder,labels=newlabels)) %>%
  arrange(Objective,desc(Number))

obj.dataTable_CC <- obj.data_CC %>%
  mutate(Percent=round(Number/n_obj_CC*100,0)) %>%
  mutate('Per MSE'=round(Number/n_CC,2)) %>%
  mutate(Objective=factor(Objective,levels=neworder,labels=newlabels)) %>%
  arrange(Objective,desc(Number))

# What Alternative types are considered
altcat.data_pub<-alt.data_pub %>%
    select(ManagementType) %>%
    purrr::map(~ strsplit(as.character(.),split=", ")) %>%
    purrr::map(unlist) %>%
    purrr::map(table) %>%
    plyr::ldply(data.frame) %>%
    select(Var1,Freq) %>%
    rename("Management Type"="Var1","Number"="Freq") %>%
    mutate(Percent=round(Number/n_pub*100,0)) %>%
    mutate('Per MSE'=round(Number/n_pub,2)) %>%
    arrange(desc(Number))

altcat.data_CC<-alt.data_CC %>%
  select(ManagementType) %>%
  purrr::map(~ strsplit(as.character(.),split=", ")) %>%
  purrr::map(unlist) %>%
  purrr::map(table) %>%
  plyr::ldply(data.frame) %>%
  select(Var1,Freq) %>%
  rename("Management Type"="Var1","Number"="Freq") %>%
  mutate(Percent=round(Number/n_CC*100,0)) %>%
  mutate('Per MSE'=round(Number/n_CC,2)) %>%
  arrange(desc(Number))

# Get map background for plotting the map
world <- borders("world", colour="gray85", fill="gray96", alpha=0.75) # create a layer of borders
```

```{r plots}
# Where MSEs have occured
map.data<-rbind(data_pub,data_CC) %>%
  select(all_of(map.col)) %>%
  mutate(Drivers=str_extract(Drivers, "Climate Change")) %>%
  mutate(Drivers=replace_na(Drivers, "Random Sample"))

# label MSEs articles by analysis for ploting
freq.data_pub<-mutate(freq.data_pub,Analysis="Random Sample")
freq.data_CC<-mutate(freq.data_CC,Analysis="Climate Change")
freq.data<-rbind(freq.data_pub,freq.data_CC)
part.data_pub<-mutate(part.data_pub,Analysis="Random Sample")
part.data_CC<-mutate(part.data_CC,Analysis="Climate Change")
part.data<-rbind(part.data_pub,part.data_CC) %>% 
  arrange(Stage, Percent) %>% 
  mutate(order = row_number())
# part.data$order<-c(1,2,3,3,4,4,5,6,7,8,6,9,10,8,9,11,12,10,13,12,13,14,14,15,16,17,18,19,
#                    20,16,17,18,20,21,22,23,24,25,21,23,26,25,26,27,27,28,29,30,31,29,32,
#                    30,33,32,33,34,35,36,37,38,39,39)
drive.data_pub<-mutate(drive.data_pub,Analysis="Random Sample") %>% 
  mutate(Percent=round(Percent,0)) %>% 
  select(Analysis,Driver,Percent,Frequency)
drive.data_CC<-mutate(drive.data_CC,Analysis="Climate Change")%>% 
  mutate(Percent=round(Percent,0)) %>% 
  select(Analysis,Driver,Percent,Frequency)
drive.data<-rbind(drive.data_pub,drive.data_CC) %>% 
  arrange(Percent) %>%
  mutate(order = row_number())
drive.data$order<-c(6,5,4,3,2,1,8,7,12,9,3,15,14,13,12,11,10,14,16,15,
                   16,6)
# Wrangle objective category data by Random Sample, climate change, and combined
objcat.data_pub<-mutate(objcat.data_pub,Analysis="Random Sample") %>% 
  mutate(Percent=round(Percent,0)) %>% 
  select(Analysis,'Objective Category',Percent,Frequency)
objcat.data_CC<-mutate(objcat.data_CC,Analysis="Climate Change")%>% 
  mutate(Percent=round(Percent,0)) %>% 
  select(Analysis,'Objective Category',Percent,Frequency)
objcat.data<-rbind(objcat.data_pub,objcat.data_CC) %>% 
  rename(OC='Objective Category') %>% 
  arrange(OC) %>% 
  rename('Objective Category'=OC)

# Wrangle objective data by Random Sample, climate change, and combined
obj.dataTable_pub<-mutate(obj.dataTable_pub,Analysis="Random Sample") %>% 
  mutate(Percent=round(Percent,0))
obj.dataTable_CC<-mutate(obj.dataTable_CC,Analysis="Climate Change")%>% 
  mutate(Percent=round(Percent,0))
obj.dataTable<-rbind(obj.dataTable_pub,obj.dataTable_CC) %>% 
  filter(Objective=="Category") %>%
  group_by(Analysis) %>% 
  summarise('AVG'=sum(Number)) %>% 
  mutate(count=c(11,30)) %>% 
  mutate('Per MSE'=round(AVG/count,1)) %>% 
  mutate('Type'=c("Objectives","Objectives"))

altcat.data_pub<-mutate(altcat.data_pub,Analysis="Random Sample") %>% 
  mutate(Percent=round(Percent,0))
altcat.data_CC<-mutate(altcat.data_CC,Analysis="Climate Change")%>% 
  mutate(Percent=round(Percent,0))
altcat.data<-rbind(altcat.data_pub,altcat.data_CC) %>%
  group_by(Analysis) %>% 
  summarise('AVG'=sum(Number)) %>% 
  mutate(count=c(11,30)) %>% 
  mutate('Per MSE'=round(AVG/count,1)) %>% 
  mutate('Type'=c("Alternatives","Alternatives"))

per.MSE<-obj.dataTable %>% 
  mutate(order=c(2,1)) %>% 
  arrange(order) %>% 
  select(Analysis,'Per MSE')

##### Data Analysis Outputs #####
# number of climate change MSE articles
# n_CC

# plot MSEs on map
MSE.map<-ggplot(data=map.data,aes(x=Longitude, y=Latitude,color=Drivers)) + world +
  geom_point(size=2.5) + geom_point(size = 2.5, colour = "gray55", shape = 1) +
  scale_color_manual(values=c("gray10","gray55"))+theme_void() +
  theme(legend.position = c(0.15, 0.25))

# plot explicit documentation of steps or components of MSE processes
# Random Sample MSEs
Freq.plot<-ggplot(freq.data_pub,aes(Explicit,Percent))+
  geom_col()+
  coord_flip() +
  scale_y_continuous(limits=c(0,100),expand = c(0,0))+xlab(NULL)+
  scale_x_discrete(
    limits=c("Decision","Tradeoffs",
             "Alternatives","Objectives","Problem","Process"),
    labels=c("Decision","Tradeoffs",
             "Alternatives","Objectives","Problem","Process")) + theme_bw() + theme(plot.margin = margin(0, 0.5, 0, 0.25, "cm"))

Part.plot<-ggplot(part.data_pub,aes(x=order,y=Percent)) +
  facet_wrap(~Stage,scale="free",ncol=2) + geom_col() +
  scale_fill_manual(values=c("#66CCCC","#006666")) +
  scale_x_continuous(breaks = part.data_pub$order,
                     labels = part.data_pub$Participants)+
  scale_y_continuous(limits=c(0,100),expand = c(0,0)) +
  ylab("Percent")+xlab(NULL)+coord_flip() + theme_bw() + theme(plot.margin = margin(0, 0.5, 0, 0.25, "cm"))

Driver.plot<-ggplot(drive.data_pub,aes(x=order,y=Percent)) +
  geom_col() +
  scale_x_continuous(breaks = drive.data_pub$order,
                     labels = drive.data_pub$Driver)+
  scale_y_continuous(limits=c(0,100),expand = c(0,0))+
  ylab("Percent")+xlab(NULL)+coord_flip()+ theme_bw()+ theme(plot.margin = margin(0, 0.5, 0, 0.25, "cm"))
```

# Introduction 
The calls for fisheries management to utilize management strategy evaluation and adaptive management have been both aspirational and estimable in their aim and vision. For example, management strategy evaluation (MSE) is "widely considered to be the most appropriate way to evaluate the trade‐offs achieved by alternative management strategies and to assess the consequences of uncertainty for achieving management goals” [@Punt]. The positive aspects of MSE that have been listed include that it is “A tool that scientists and managers can use to simulate the workings of a fisheries system and allow them to test whether potential harvest strategies — or management procedures — can achieve pre-agreed management objectives.”[@Pew], that it “can be used to identify a ‘best’ management strategy among a set of candidate strategies" [@PuntLab] and “MSE has the advantage of being able to reveal the trade-offs among a range of possible management decisions, and should assist our Commissioners in determining whether the objectives should be weighted differently. Specifically, to provide the information on which to base a rational decision, given objectives, preferences, and attitudes to risk.”  [@IPHC].  Based on these descriptions MSE is a compelling tool to support and improve fisheries management decisions.

Are the results of MSE living up to their descriptions? Are MSEs evaluating trade-offs and the consequences of uncertainty? Do they test potential harvest strategies? Were the management objectives used to evaluate management procedures established and agreed to? Was a 'best' management strategy identified? Was consideration given to the weights on objectives, preferences, and attitudes to risk?

In the descriptions of the MSE process, the process itself is described as being "at the interface between science and policy.” [@PuntLab] and being an “Undertaking [that] requires scientists, managers, and stakeholders to be involved throughout the process." [@IPHC] The International Pacific Halibut Commission (2017) also states, "While the scientists do the modelling, managers must offer extensive input. Because of the many steps and the iterative process, communication among parties is critical for achieving buy-in on the results of the management strategy evaluation.”

Are MSE processes being conducted in the manner described? Do MSE processes consider and account for the interface between science and policy? Are scientists, managers and stakeholders involved and communicating through and iterative process that creates buy-in?

Adaptive management developed in fisheries management as a means to improve the achievement of objectives through time, when learning can aid achieving those objectives [@ADM].  For example, the Millennium Ecosystem Assessment [-@MEA] defines adaptive management as “A systematic process for continually improving management policies and practices by learning from the outcomes of previously employed policies and practices. In active adaptive management, management is treated as a deliberate experiment for purposes of learning.” We contend that scientific publication is essentially a process intended to support adaptive management, in that researchers gain knowledge from the decisions made and outcomes produced by previous work to inform their decisions. In the case of fisheries management, are scientific publications of management strategy evaluations supporting adaptive management?

## Objectives 
Our overall objective is to determine the extent that MSE achieves the aspirational aims outlined above, and whether MSE documentation supports learning within the MSE practitioner community.  Given that scientific publication is the primary means of communicating the results of MSE, we review the scientific literature to assess the extent to which the process and aims of MSE, and adaptive management are being achieved and supported by the scientific literature. To assess this, we determine how MSEs utilize standard components of decision making processes. We use the structured decision making (SDM) process [@SDM] -- the decision making framework in which adaptive management occurs -- as our framework for evaluation.  Using this framework, we review published MSEs to:  

* Determine what questions MSE processes are addressing
* Identify the objectives and alternatives considered in MSE
* Determine the prevalence of a) explicit documentation and b) use of decision making steps in the MSE process, and 
* Identify participants in MSE processes.

An increasingly recognized challenge in fisheries management is responding to changes in the productivity of fisheries stocks as a result of climate change [@busch_climate_2016; @brander_global_2007]. We also conduct a focused analysis of MSE processes that address the influence of climate change on fisheries management, highlighting aspects of MSE processes that model climate change as a driver of system status.

# Methods 
## Finding and Sampling the MSE Literature 
We conducted our search for MSEs in the SCI-EXPANDED index from Web of Science, searching for “management strategy evaluation” by topic across all years on January 8th, 2019 (Table \@ref(tab:MSEcount)). This search returned 264 results.  We reviewed a random sample of 30 articles that document a MSE (Appendix B), removing articles that were reviews, meta-analyses, or simply cited other MSE articles from our sample. After removing other articles from the original set of 264 articles, 154 articles document a MSE. The number of MSEs published each year is trending higher (Figure \@ref(fig:YearHistogram)), with the ICES Journal of Marine Science and Fisheries Research as the leading publication outlets ((Figure \@ref(fig:PublicationHistogram))). 

We reviewed 16 climate change MSE articles (Appendix B). Twelve of these articles came from our original January 8th, 2019 Web of Science search.  To give as full a picture of the climate change MSE articles to date as possible we also reviewed the 4 climate change MSE articles published in 2019. 

```{r MSEcount}
MSE_Type<-c("Published","Random Sample","Climate Change")
Count<-c(154,30,"12*")
Table1.data<-as_tibble(cbind(MSE_Type,Count))
  Table1.data %>%
    rename("MSE Type"=MSE_Type) %>% 
  kable(caption = "January 8, 2019 Web of Science 'management strategy evaluation' search results") %>% 
  kable_styling() %>% 
    add_footnote(c("We also reviewed 4 additional climate change MSE articles published in 2019 for a total of 16."), notation = "symbol")
```

```{r YearHistogram}
# Analyze the year that MSEs were published and sampled from
# Wrangle data
SampleCheck<-tblWOS %>%
  rename(IsMSE="Is MSE?") %>% # rename column
  filter(IsMSE==TRUE&YearPub<2019) %>% #filter data
  mutate(IncludeInPub = replace(IncludeInPub, IncludeInPub == TRUE, "Selected")) %>% 
  mutate(IncludeInPub = replace(IncludeInPub, IncludeInPub == FALSE, "Not Selected")) %>% #rename values
  select(YearPub,IncludeInPub) # select desired columns
# Plot result as a histogram
YearHistogram<-ggplot(SampleCheck,aes(x=YearPub,color=IncludeInPub,fill=IncludeInPub))+
  geom_histogram(binwidth = 1)+scale_color_grey()+scale_fill_manual(values=c("gray35","gray50"))+theme_bw()+
  labs(col="Random Sample",fill="Random Sample",x="Publication Year")+theme(legend.position = c(0.15, 0.85))
YearHistogram
```

```{r PublicationHistogram}
# Analyze the journal that MSEs were published in and sampled from
# Wrangle data
SampleJournals<-tblWOS %>%
  rename(IsMSE="Is MSE?") %>% # rename column
  filter(IsMSE==TRUE&YearPub<2019) %>% # filter data
  select(Journal,IncludeInPub) %>% # select columns
  group_by(Journal,IncludeInPub) %>% # group summary by
  count() %>% # count by groups
  arrange(-n) %>% # sort
  ungroup() %>% # ungroup
  mutate(IncludeInPub = replace(IncludeInPub, IncludeInPub == TRUE, "Selected")) %>% 
  mutate(IncludeInPub = replace(IncludeInPub, IncludeInPub == FALSE, "Not Selected")) %>% # rename values
  drop_na() %>% # Drop entries without journal sources
  pivot_wider(names_from = IncludeInPub,values_from = n) %>% # pivot data
  mutate_at(vars(Selected,"Not Selected"),~replace_na(., 0)) %>% # replace NA with 0
  rename(NotSelected="Not Selected") %>% 
  mutate(Total=Selected+NotSelected) %>% # calculate Total published for each journal
  filter(Total>1) %>% # filter to remove journals with only one publication
  rename("Not Selected"=NotSelected) %>%
  pivot_longer(cols = c("Not Selected","Selected"),names_to = "IncludeInPub",values_to = "n") %>%  #pivot data
  select(Journal,IncludeInPub,n) # select desired columns
PublicationHistogram<-ggplot(SampleJournals,aes(x=reorder(Journal, n),y=n,color=IncludeInPub,fill=IncludeInPub))+
  geom_col()+  scale_color_grey()+scale_fill_manual(values=c("gray35","gray50"))+theme_bw()+
  labs(col="Random Sample",fill="Random Sample")+coord_flip()+
  theme(legend.position = c(0.75, 0.125),axis.title.y=element_blank())+
  labs(y="Publication Count")
PublicationHistogram
```

## Reviewing MSE documentation 
We used the structured decision making framework [@conroy2013decision; @gregory2012structured] as our framework for evaluating management strategy evaluation documents (Figure \@ref(fig:SDMfigure)). The structured decision making process is composed of the six process stages: problem definition, objective elicitation, alternative development, consequence prediction, trade-off analysis, and decision implementation. 

```{r, SDMfigure, fig.cap='Review framework - structured decision making process'}
knitr::include_graphics(here('figs/SDMProcessFramework.png'))
```

We present the review methodology and results in four groups: consequences - which focuses on what was considered during the prediction stage, objectives - which focuses on what categories of objectives were considered, stages - which focuses on whether and how the stages of the process were completed, and participants - which focuses on how participation in the process was structured.  These results were entered into a relational database for storage and evaluation, and is available via our shiny application (https://jonathancummings.shinyapps.io/MSEreview/).

The consequence group addresses what question the MSE was designed to address, and how it was addressed. We report the drivers included as the primary factors influencing the predictions produced by the MSE model, listing each driver a MSE included. We also report how the consequence predictions were made, with possible values of simulation modeling, dynamic programming, expert elicitation, and mental models, or unknown when it is unclear what methodology was used to predict the status of the system for management evaluation.

In the objectives group we address what the concerns, or goals of the MSE were.  We record each objective considered, and report the type and category of objectives included in each MSE. Natural resource management problems typically include four types of objectives: conservation, resource use, i.e., yield in the fisheries context, as well as economic, and social objectives [@runge2013]. We sort objectives into four types: strategic objectives - which are concerned with the overall mission of the system in which the decision evaluated by the MSE falls, process objectives - which are concerned with how the management decision addressed by the MSE would be made, fundamental objectives - which address the goals of the management decision, and means objectives - which address means to achieving the fundamental objectives of the management decision.  

In the stages group we address how the MSE stages were completed. We report whether the stages of the structured decision making framework, i.e., problem, objectives, alternatives, tradeoffs, were explicitly completed and the methods used to complete them were documented.  We also report whether the MSE results were adopted in subsequent management.

In the participant group we address how participation in the MSE process was structured and who participated. We report who lead the MSE process, who participated in it, and if the roles of participants were established and documented.  In many cases the process used to elicit objectives and alternatives was not explicit.  In these cases, we used what information was provided to glean who participated in the production of those components of the MSE.  We record and report who those participants were, referring to them as subjective participants in the objectives or alternatives process.  In other cases where there was not enough information to glean who participated we report the participants as unknown.  

We collected additional information about the MSEs we reviewed beyond what is reported here. For a full description of the information recorded in the relational database see the supplemental information (Appendix A), and for the full data set and results see our shiny application (https://jonathancummings.shinyapps.io/MSEreview/).

# Results 
## What questions and management objectives do MSEs address? 
We found that uncertainty was the main driver of the system state included in management strategy evaluations, with uncertainty included in 21 of the 30 evaluations we reviewed in our random sample (Table \@ref(tab:drivers)).  In addition to uncertainty about the system model itself, monitoring methodology, how and what data is collected, was the most prevalent driver in MSE models, but a variety of drivers were considered across the random sample of MSEs. 

```{r drivers}
drive.data_pub %>%
  mutate("Percent"=round(Percent,0)) %>% 
  select(Driver,Percent,Frequency) %>% 
  kable(caption = "Drivers included in management strategy evaluations") %>% 
  kable_styling()
```
<br>
Conservation objectives were present in nearly all of the MSEs we sampled (Table \@ref(tab:objectiveCategories)).  Yield and economic objectives were present in about three quarters of the MSEs, while social objectives were only included in 2 of the sampled MSEs.

```{r, objectiveCategories}
objcat.data_pub %>% 
  select(-Analysis) %>% 
  kable(caption = "Consideration of objective categories in management strategy evaluation") %>% 
  kable_styling()
```
<br>
No strategic or process objectives were documented in the MSEs.  There were roughly the same number of fundamental and means objectives included in the MSEs (Table \@ref(tab:objectiveTypes)). An average of 6 objectives were evaluated by each management strategy evaluation.
```{r, objectiveTypes}
obj.dataTable_pub %>%
  filter(Objective=="Type") %>%
  select(Type, Percent, Number, 'Per MSE', -Analysis, -Objective) %>% 
  kable(caption = "Objective Types") %>% 
  kable_styling()
```

## Are structured decision making steps explicit in MSEs? 
The majority of MSEs did not explicitly document how the stages of the MSE process -- defined using the SDM framework -- were completed (Table \@ref(tab:explicit)).  Apart from the consequence stage, which is the primary focus of MSE publication and therefore was always addressed, the most documented stage was the alternative stage with 6 MSEs documenting this stage of the process. The MSE process, problem, and objectives methodology were each documented in 5 of the MSEs. Three of the 30 MSEs explicitly documented a trade-off analysis and 2 of the 30 documented a management decision. One MSE documented that the results of the MSE were adopted.

```{r explicit}
freq.data_pub %>%
  select(-Analysis) %>% 
  mutate("Percent"=round(Percent,0)) %>% 
  select(Explicit,Percent,Number) %>% 
  kable(caption = "Prevalence of explicit documentation of stages in the MSE process") %>% 
  kable_styling()
```

## Who is involved in MSEs? 
MSEs were rarely explicit about the roles participants played in MSE processes, as only one MSE documented the roles participants played in the process (Table \@ref(tab:roles)).  None of the MSEs noted whether or not public meetings were held in which the public was invited to participate.

```{r roles}
freq2.data_pub %>% 
  mutate("Percent"=round(Percent,0)) %>%
  select(Explicit,Percent,Number) %>% 
  kable(caption = "Prevalence of explicit roles for MSE participants and meetings that were open to the public during the MSE process") %>% 
  kable_styling()
```

The primary participants and leaders of the MSE processes were scientists, while some MSE process were led by governments and management agencies (Figure \@ref(fig:participants) Process).  Scientists were explicitly the leaders -- or the sole participants and therefore seemingly the leaders -- in 73 percent of the MSE processes, while 27 percent of processes lacked enough documentation of participants and leadership such that we were unable to identify a presumed leader of the process.  

Scientists were participants in nearly all of the reviewed MSE processes (Figure \@ref(fig:participants) Participants).  Other stakeholders in MSE processes were less frequent participants.  Members of the fishery participated in 30 percent, management and government representatives in 23 percent, representatives of independent institutions in 7 percent, and the members of the public in 3 percent of reviewed MSEs.  Decision makers -- those responsible for selecting the management plan to implement -- were participants in 13 percent of MSEs.  Experts -- a possible source of data or predictions -- participated in 3 percent of the MSEs reviewed.  Participants involved to the assist the MSE process itself, i.e., facilitators and decision analysts, participated in 10 and 3 percent of MSE processes respectively. 

Objectives and alternatives were elicited from a variety of participants. Management, government, or fishery participants explicitly provided objectives and alternatives in about 10 percent of the MSE processes (Figure \@ref(fig:participants) Explicit).  However, in most cases the source of the objectives and alternatives was not explicit.  The source of objectives and alternatives was not explicit in more than 80% of the MSE processes, 25 of 30 objective sources were not explicit and 24 of 30 alternative sources. In those subjective cases scientists -- being the only or primary participants -- seemingly selected these components most frequently (Figure \@ref(fig:participants) Subjective).

```{r participants, fig.cap='Who guided (Process), participated in (Participants), or provided explicitly documented input (Explicit), or seemingly provided input (Subjective) during the specified steps of the MSE process', fig.height=6, out.width="100%"}
Part.plot
```

# Climate Change in MSE (As *Box Insert*) 
Fisheries management has mostly focused on fishing impacts with ecosystem status viewed as a background constant. The increasing rate of climate change and its influence on fisheries is changing this dynamic, bringing ecosystem status to the forefront of fisheries management. 

Here we review published MSEs the include climate change as a driver of the fisheries model using the stages in a SDM process to highlight unique aspects of these MSEs. We filtered the original set of MSEs published by as of December 31st, 2019 searching for the term "climate change" within the set that resulted from searching for "management strategy evaluation". This resulted in our reviewing 16 published MSEs that included climate change as a driver. We reviewed the climate change MSEs using the same methodology described above. These MSEs have been concentrated in North America and Australia (Figure \@ref(fig:mapfigure)).

```{r, mapfigure, fig.cap='Map of MSE study locations.', fig.height=4, out.width="100%"}
MSE.map +
  theme(text = element_text(size=14))
```

As with the random sample of reviewed MSEs, uncertainty was the most common driver, apart from climate change, included climate change MSEs (Table \@ref(tab:driversCC)), while other biological drivers were also included in some of the climate change MSEs.  Overall climate change MSEs considered fewer drivers on average, 1.4, than the random sample of MSEs, which included 1.8.

```{r driversCC}
drive.data_CC %>%
  mutate("Percent"=round(Percent,0)) %>% 
  select(Driver,Percent,Frequency) %>% 
  kable(caption = "Drivers included in climate change management strategy evaluations") %>% 
  kable_styling()
```

Climate change MSEs averaged the same number of objectives per MSE. The categories of the objectives differed however, with more frequent inclusion of yield objectives, but less frequent consideration of economic objectives and no consideration of social objectives (Table \@ref(tab:CCobjectiveCategories)) in the climate change MSEs.
```{r, CCPerMSE}
# color_Pub <- which(per.MSE$Analysis=='Random Sample')
# color_CC <- which(per.MSE$Analysis=='Climate Change')
# 
# per.MSE %>%
#   kable(caption = "Number of objectives considered per management strategy evaluation") %>%
#   row_spec(color_CC, color = "#66CCCC", background = "white") %>%
#   row_spec(color_Pub, color = "#006666", background = "white")%>% 
#   kable_styling()
```

```{r, CCobjectiveCategories}
objcat.data_CC<-objcat.data %>%
  filter(`Objective Category`!="Utility") %>% 
  add_column(order=c(1,2,5,6,7,3,4)) %>% 
  arrange(order)

color_Pub <- which(objcat.data_CC$Analysis=='Random Sample')
color_CC <- which(objcat.data_CC$Analysis=='Climate Change')

objcat.data_CC %>%
  select(-order) %>% 
  kable(caption = "Objective categories considered in management strategy evaluations") %>%
  row_spec(color_CC, color = "#66CCCC", background = "white") %>%
  row_spec(color_Pub, color = "#006666", background = "white") %>% 
  kable_styling()
```

Climate change MSEs were more likely to explicitly document the trade-off analysis stage, equally likely to document the alternatives stages, but were less likely to document the other stages in the decision process (Table \@ref(tab:CCstages)).
```{r, CCstages}
freq.data_CC %>%
  mutate("Percent"=round(Percent,0)) %>% 
  select(Explicit, Percent, Number, -Analysis) %>% 
  kable(caption = "Prevalence of explicit documentation of stages in climate change MSE processes") %>%
  kable_styling()
```

Including climate change in a MSE appears to reduce the complexity of other stages in the MSE process, in particular those stages that utilize input from additional participants. On average climate change MSEs consider fewer drivers, consider less diverse objectives, and explicitly document fewer stages of the MSE process.  If the MSE process is time, effort, or participant limited the inclusion of climate change may be utilizing time, effort, or outside participants to focus on climate change rather than other aspects of the MSE process.

# Discussion 
The primary picture painted by MSE documentation is one of scientist driven simulation studies rather than management driven decision processes. While documentation about the modeling conducted in a MSE was explicit, documentation about the MSE process itself was often limited. 

We found that management strategy evaluations do typically assess the consequences of uncertainty for achieving management goals, but other factors influencing the consequences of management strategies get more sporadic treatment.  Data limitation is a frequent concern in fisheries management, and contributes to the degree of uncertainty present in fisheries management.  Next to accounting for uncertainty, accessing the influence of data quality and availability, i.e.,  monitoring methodology was the most prevalent driver included in MSEs.  This likely points to a desire for the design and use of cost-effective fisheries monitoring plans, suggesting future MSEs may be able to learn from the set including monitoring methodology as a driver. Additionally, the use of value of information analyses could expand upon the benefits of MSE as a tool to direct scientific resources [@runge_2011; @moore_2012]. While discussions of fisheries research and management seem to be moving toward ecosystem effects, spatial models, and multiple species models, these characteristics were rarely considered in the set of MSEs we reviewed.

Managing natural resources entails achieving the objectives of people interacting with a natural resource, so decision processes are likely to produce more desirable results when they include objectives that reflect stakeholders' and society's values.  These objectives are likely to include conservation, yield, economic, and social concerns. As noted, MSEs are described as a tool to evaluate what management strategy best achieves objectives, however the MSEs we reviewed don't cover all categories of objectives. Yield and economic objectives were not included in about one quarter of MSEs, and broader social objectives were absent from all but 2 of the 30 evaluations. While we are unable to know the cause for this without more explicit documentation of MSE processes, our results may provide some clues.

Scientists led, and participated in most of the MSEs, while decision-makers, decision making institutions, and stakeholders were relatively infrequent leaders or participants in the process.  The lack of participation by stakeholders may result in less frequent inclusion of social objectives, as well as yield and economic objectives specific to a particular fishery. Another factor may be that MSE models are likely constructed mainly by ecosystem modelers, who are likely to be more comfortable modeling the consequences of conservation and yield objectives than economic or social objectives.  Given that scientists seem to be providing the objectives in many MSE processes, they may be selecting objectives that they are more comfortable evaluating. There also appears to be some degree of borrowing occurring in which scientists use a set of generic fishery objectives when conducting a MSE.  Perhaps because their were few social objectives included in these MSEs, there was little inclusion of experts to aid in the prediction of consequences, or consequence prediction techniques other than simulation modeling.

Participants that would be likely to expand the set of objectives considered in a MSE rarely participated in the MSEs we reviewed. That is, facilitators and decision analysts were rarely participants in MSE processes.  The inclusion of facilitators in decision processes aid information gain and conflict resolution, increase trust between participants, and lead to more beneficial environmental and social outcomes [@Vente].  The additional structure and focus on the decision process would likely result in more explicit documentation when facilitators and decision analysts participate in MSE, as resulted in some of the MSEs reviewed here [@williams2011; @smith2013; @kolody2008]. Facilitators and decision analysts can also aid decision processes by helping to diagnose the problem, which can result in selecting more appropriate analysis techniques for the problem type, elicit a more complete and representative set of objectives, and select analysis tools to best address decision impediments to identify the optimal management strategy [@Cummings_inprep].  

The MSE process may be aided by utilizing the techniques from the structured decision making approach to decision analysis, such as expanding the focus on problem framing at the outset of MSEs, eliciting fully representative sets of objectives, and utilizing multiple attribute utility theory to evaluate tradeoffs between objectives (Cummings, in prep). Utilizing the structured decision making approach also eases the documentation process by breaking decision making into more discrete stages. However, there may be practical considerations, such as time or budgetary constraints that limit how complex the stages of a MSE are, and the degree of documentation that occurs.  Where the expertise and budget are available, the use of facilitators and scribes may aid in addressing and documenting MSE processes.

The relative dearth of explicit documentation we found in our review of MSE publications may hinder learning by MSE practitioners.  While the modeling was clearly documented, the MSE process steps were often inexplicit.  Without explicit documentation it is unclear why the analysis was structured as it was, why a particular set of drivers was selected, and why a set of objectives or alternatives were chosen.  Perhaps the most crucial stage to enable understanding a replication of a decision resulting from a MSE is a clear presentation of how trade-offs between the multiple objectives were evaluated, and what the optimal or chosen alternative was that resulted from the MSE process. Different decision makers can rationally look at the same prediction of consequences and select a different preferred alternative if they treat the importance of the objectives differently.  Therefore, MSE documentation often is not fully supporting replication or learning due to the frequent absence of trade-off and decision documentation.

## Explore and expand upon this review
To aid learning from the documentation that has occurred, and provide ready access to future MSE documentation we produced a shiny application [@R-Shiny] to enable an interactive means to explore the MSE literature (<https://jonathancummings.shinyapps.io/MSEreview/>). The MSE review shiny application enables users to interactively explore the results presented in this article. The application includes additional analyses that may be of interest, such as an analysis of what journals MSEs have been published in, who is authoring MSEs, and more. Users may also filter by driver, location, species, or other characteristics of MSEs to explore a set of MSEs of interest and relevance to aid learning in the MSE practitioner community. We hope that as MSE are conducted they are entered here so that MSE practitioners can further learn from each other in the future.

# References 
\setlength{\parindent}{-0.2in}
\setlength{\leftskip}{0.2in}
\setlength{\parskip}{8pt}
\vspace*{-0.2in}
